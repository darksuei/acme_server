<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>
    <link rel="stylesheet" href="/css/settings.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css" />
    <link rel="stylesheet" href="/css/mobile.css" />
  </head>
  <body>
    <header>
      <a href="/"><img src="/img/LogoSample_ByTailorBrands-removebg-preview.png" alt="" class="logo" /></a>
      <div class="username">
        <h4><%= fullName %></h4>
        <a href="/settings">
          <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 16 16">
            <title>profile</title>
            <g stroke-width="1" fill="#000000" stroke="#000000" class="nc-icon-wrapper">
              <circle
                data-color="color-2"
                cx="8"
                cy="3.5"
                r="3"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></circle>
              <path
                d="M8,9a6.5,6.5,0,0,0-6.5,6.5h13A6.5,6.5,0,0,0,8,9Z"
                fill="none"
                stroke="#000000"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </g>
          </svg>
        </a>
      </div>
    </header>

    <section>
      <svg
      width="21"
      height="14"
      viewBox="0 0 21 14"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="hamburger"
    >
      <path
        d="M20.645 13.005C20.645 13.555 20.199 14 19.65 14H11.64C11.3761 14 11.123 13.8952 10.9364 13.7086C10.7498 13.522 10.645 13.2689 10.645 13.005C10.645 12.7411 10.7498 12.488 10.9364 12.3014C11.123 12.1148 11.3761 12.01 11.64 12.01H19.65C20.2 12.01 20.645 12.455 20.645 13.005ZM20.645 7C20.645 7.55 20.199 7.995 19.65 7.995H1.64002C1.37613 7.995 1.12305 7.89017 0.936448 7.70357C0.74985 7.51697 0.64502 7.26389 0.64502 7C0.64502 6.73611 0.74985 6.48303 0.936448 6.29643C1.12305 6.10983 1.37613 6.005 1.64002 6.005H19.65C20.2 6.005 20.645 6.451 20.645 7ZM19.65 1.99C19.9139 1.99 20.167 1.88517 20.3536 1.69857C20.5402 1.51197 20.645 1.25889 20.645 0.995C20.645 0.731109 20.5402 0.478027 20.3536 0.291429C20.167 0.10483 19.9139 7.86455e-09 19.65 0H7.64002C7.50935 -3.89413e-09 7.37997 0.0257364 7.25925 0.0757399C7.13853 0.125743 7.02884 0.199034 6.93645 0.291429C6.84405 0.383823 6.77076 0.493511 6.72076 0.61423C6.67076 0.734949 6.64502 0.864335 6.64502 0.995C6.64502 1.12567 6.67076 1.25505 6.72076 1.37577C6.77076 1.49649 6.84405 1.60618 6.93645 1.69857C7.02884 1.79097 7.13853 1.86426 7.25925 1.91426C7.37997 1.96426 7.50935 1.99 7.64002 1.99H19.65Z"
        fill="black"
      />
    </svg>

    <nav class="header2">
      <div class="nav-main">
        <a href="/dashboard" class="dashboard">
          <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24">
            <title>home 3</title>
            <g stroke-width="1" fill="#000000" stroke="#000000" class="nc-icon-wrapper">
              <polyline
                data-cap="butt"
                points="10 23 10 17 14 17 14 23"
                fill="none"
                stroke="#000000"
                stroke-miterlimit="10"
              ></polyline>
              <polyline
                data-cap="butt"
                data-color="color-2"
                points="1 11 12 2 23 11"
                fill="none"
                stroke="inherit"
                stroke-miterlimit="10"
              ></polyline>
              <line
                data-cap="butt"
                data-color="color-2"
                x1="4"
                y1="8.545"
                x2="4"
                y2="4"
                fill="none"
                stroke="inherit"
                stroke-miterlimit="10"
              ></line>
              <polyline
                points="4 13 4 23 20 23 20 13"
                fill="none"
                stroke="#000000"
                stroke-linecap="square"
                stroke-miterlimit="10"
              ></polyline>
              <rect
                data-stroke="none"
                x="11"
                y="11"
                width="2"
                height="2"
                fill="#000000"
                stroke="none"
              ></rect>
              <rect
                x="11"
                y="11"
                width="2"
                height="2"
                fill="none"
                stroke="#000000"
                stroke-linecap="square"
                stroke-miterlimit="10"
              ></rect>
            </g>
          </svg>
          <h4 class="text2">Dashboard</h4>
        </a>

        <a href="/schedule" class="settings">
          <svg width="20" height="20" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <style>
                .a,
                .b {
                  fill: none;
                  stroke: #000000;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                }
                .b {
                  fill-rule: evenodd;
                }
              </style>
            </defs>
            <line class="a" x1="11.1631" y1="20.972" x2="14.9131" y2="18.9095" />
            <line class="a" x1="14.9131" y1="18.9095" x2="14.9131" y2="33.9095" />
            <circle class="a" cx="23.5438" cy="23.9095" r="5" />
            <path
              class="a"
              d="M19.0994,32.0576A4.5482,4.5482,0,0,0,23.1735,33.91h.37a4.9792,4.9792,0,0,0,5-5v-5"
            />
            <path
              class="b"
              d="M43.5,25.7931V11.8621a4,4,0,0,0-4-4H8.5a4,4,0,0,0-4,4V36.1379a4,4,0,0,0,4,4"
            />
            <path
              class="b"
              d="M43.5,36.1379V11.8621a4,4,0,0,0-4-4H8.5a4,4,0,0,0-4,4V36.1379a4,4,0,0,0,4,4h31A4,4,0,0,0,43.5,36.1379Z"
            />
            <path class="b" d="M35.2069,40.1379V15.819a3.1379,3.1379,0,0,0-3.1379-3.138H4.5" />
          </svg>
          <h4 class="text1">Calender View</h4>
        </a>

        <a href="/settings" class="settings">
          <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 48 48">
            <title>cogwheel</title>
            <g stroke-width="1" fill="#000000" stroke="#000000" class="nc-icon-wrapper">
              <circle
                data-color="color-2"
                cx="24"
                cy="24"
                r="7"
                fill="none"
                stroke-linecap="square"
                stroke-miterlimit="10"
              ></circle>
              <path
                d="M46,27V21L39.6,20.466a15.89,15.89,0,0,0-2.072-4.991l4.155-4.91L37.435,6.322l-4.91,4.155A15.876,15.876,0,0,0,27.534,8.4L27,2H21l-.534,6.4a15.89,15.89,0,0,0-4.991,2.072l-4.91-4.155L6.322,10.565l4.155,4.91A15.876,15.876,0,0,0,8.4,20.466L2,21v6l6.4.534a15.89,15.89,0,0,0,2.072,4.991l-4.155,4.91,4.243,4.243,4.91-4.155A15.876,15.876,0,0,0,20.466,39.6L21,46h6l.534-6.405a15.89,15.89,0,0,0,4.991-2.072l4.91,4.155,4.243-4.243-4.155-4.91A15.876,15.876,0,0,0,39.6,27.534Z"
                fill="none"
                stroke="#000000"
                stroke-linecap="square"
                stroke-miterlimit="10"
              ></path>
            </g>
          </svg>
          <h4 class="text1">Settings</h4>
        </a>
      </div>

      <a href="/logout" class="logout">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" class="red">
          <title>logout</title>
          <g stroke-width="1" fill="#000000" stroke="#e22323" class="nc-icon-wrapper">
            <path
              d="M12,2A10,10,0,1,0,22,12,10.011,10.011,0,0,0,12,2Zm4,14H10V16h6Zm-2-8.5V14h-6v-6.5Z"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            ></path>
          </g>
        </svg>
        <h4 class="text1">Logout</h4>
      </a>
    </nav>

      <main class="settings-main">
        <h1 class="text3">Settings</h1>
        <h3 class="text4">General</h3>

        <div class="main-content settings-main-content">
          <div class="settingsform">
            <h1 class="text6">User Information</h1>
            <h3 class="text7">Make changes and save to update your user infomation</h3>
            <form action="/api/user/update-user" method="post">
              <div class="input-group">
                <label for="fullname">Full Name</label>
                <input type="text" placeholder="Full Name" name="fullName" value="<%= fullName %>" />
                <p class="text5">This is your full name</p>
              </div>

              <div class="input-group">
                <label for="email">Email</label>
                <input type="email" placeholder="Email" name="email" value="<%= email %>" readonly />
                <p class="text5">Enter your Email</p>
              </div>

              <div class="input-group">
                <label for="phone">Phone</label>
                <input
                  class="inp3"
                  type="tel"
                  placeholder="+234 123 456 7890"
                  name="phone"
                  value="<%= phone %>"
                />
                <p class="text5">Enter your phone number</p>
              </div>

              <div class="input-group">
                <label for="occupation">Occupation</label>
                <input
                  class="inp4"
                  type="text"
                  placeholder="occupation"
                  name="occupation"
                  value="<%= occupation %>"
                />
                <p class="text5">Enter your current occupation</p>
              </div>

              <div class="input-group">
                <label for="interests">Interests</label>
                <input
                  class="inp4"
                  type="text"
                  placeholder="interests"
                  name="interests"
                  value="<%= interests %>"
                />
                <p class="text5">Enter your current interests</p>
              </div>

              <button type="submit" class="btn3">Update user Details</button>
            </form>
          </div>

          <div class="sub-main-content">
            <div class="settingsform">
              <h1 class="text6">Change Password</h1>
              <form action="/api/user/update-password" method="post">
                <div class="input-group">
                  <label for="currentPassword">Current Password</label>
                  <input type="password" placeholder="********" name="currentPassword" required/>
                  <p class="text5">Enter your current password</p>
                </div>
                <div class="input-group">
                  <label for="newPassword">New Password</label>
                  <input type="password" placeholder="********" name="newPassword" required/>
                  <p class="text5">Enter your new password</p>
                </div>
                <div class="input-group">
                  <label for="confirmPassword">Confirm Password</label>
                  <input type="password" placeholder="********" name="confirmPassword" required/>
                  <p class="text5">Re-enter your new password</p>
                </div>

                <button type="submit" class="btn3">Change Password</button>
              </form>
            </div>
            <div class="settingsform">
              <h1 class="text6">Custom Settings</h1>
              <form action="/api/user/update-other-settings" method="post">
                <div class="input-group-row">
                  <input type="checkbox" name="notifications" <%= notifications ? 'checked' : '' %>/>
                  <label for="notification">Notifications</label>
                  <p class="text8">Would you like to recieve email notifications from the platform?</p>
                </div>
                <div class="input-group-row">
                  <input type="checkbox" name="darkMode" <%= darkMode ? 'checked' : '' %> />
                  <label for="darkMode">Dark Mode</label>
                  <p class="text8">Enable dark mode?</p>
                </div>

                <button type="submit" class="btn3">Save Changes</button>
            </div>
          </div>
        </div>
      </main>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
    <script>
      const notyf = new Notyf();

      function getQueryStringParams() {
        const params = {};
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
  
        if (urlParams.has('error')) {
          params.error = urlParams.get('error');
        }
        if (urlParams.has('success')) {
          params.success = urlParams.get('success');
        }
  
        return params;
      }
  
      // Get the query string parameters
      const queryParams = getQueryStringParams();
      
      if (queryParams.error) {
        notyf.error(queryParams.error);
        window.history.replaceState({}, document.title, "/settings");
      }
      if (queryParams.success) {
        notyf.success(queryParams.success);
        window.history.replaceState({}, document.title, "/settings");
      }
    </script>
    <script src="/js/acme.js"></script>
  </body>
</html>
